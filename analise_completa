import streamlit as st
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# Inicializa o estado da p치gina se n칚o estiver presente
if "page" not in st.session_state:
    st.session_state.page = "inicial"  # Define a p치gina inicial como padr칚o

# Controle de navega칞칚o baseado no estado da p치gina
if st.session_state.page == "inicial":
    st.title("Triagem ESG e Financeira - Avalia칞칚o da Empresa")

    # Aqui seria a l칩gica para capturar os dados e calcular os scores
    # Simula칞칚o de dados ou inputs de usu치rio...

    # Bot칚o para avan칞ar para a an치lise completa
    if st.button("Avan칞ar para an치lise completa"):
        # Quando o bot칚o 칠 clicado, alteramos o estado da p치gina
        st.session_state.page = "an치lise_completa"  # Muda a p치gina para 'an치lise_completa'
        st.experimental_rerun()  # For칞a a atualiza칞칚o da p치gina ap칩s a mudan칞a

elif st.session_state.page == "an치lise_completa":
    # Esta parte ser치 executada quando a p치gina for "an치lise_completa"
    st.set_page_config(page_title="An치lise Completa", page_icon="游늳")

    # Simula칞칚o de dados de entrada (substitua pelos reais)
    nome_empresa = "Empresa Exemplo"
    respostas_binarias = [1, 1, 0, 1, 1]
    respostas_esg = [60, 70, 80, 65, 75, 85, 90, 60]
    respostas_financeiros = [50, 60, 55, 70, 65, 60, 80, 75, 70]
    respostas = (respostas_binarias, respostas_esg, respostas_financeiros)

    # Aqui, voc칡 chamaria a fun칞칚o para realizar a an치lise
    # from avaliador import avaliar_empresa
    # df_resultados, total, score_esg, score_fin = avaliar_empresa(nome_empresa, respostas)

    # Para fins de exemplo, estou apenas criando um DataFrame simulado:
    df_resultados = pd.DataFrame({
        'Indicador': ['Indicador 1', 'Indicador 2', 'Indicador 3'],
        'Score':
